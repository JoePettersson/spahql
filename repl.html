<!DOCTYPE html>
<html>
  <head>
    <title>Try SpahQL</title>
    
    <link rel="stylesheet" href="css/normalize.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="css/nav.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="css/ir_black.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="css/repl.css" type="text/css" media="screen" />
    
    <script type="text/javascript" src="js/highlight.pack.js"></script>
    <script type="text/javascript" src="js/jquery.1.5.2.min.js"></script>
    <script type="text/javascript" src="js/jquery.scrollTo-1.4.2-min.js"></script>
    <script type="text/javascript" src="js/spahql-min.js"></script>
    <script type="text/javascript" src="js/spahql-repl.js"></script>
    <script type="text/javascript" src="js/nav.js"></script>
    <script type="text/javascript">
      $(document).ready(function() {
        hljs.initHighlighting();
        Nav.init(function(overview) {
          $("nav .current").first().after(overview);
        });
      });
    </script>
  </head>
  <body>
    
<a href="https://github.com/danski/spahql"><img style="position: fixed; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub"></a>

    <div class="nav-wrapper">
      <nav id="nav-overview" class="overview">
        <h3>SpahQL</h3>
        <h4 class="current"><a href="repl.html">Try SpahQL</a></h4>
        <h4><a href="index.html">SpahQL Manual</a></h4>
        <h4><a href="src/index.html">API</a></h4>
      </nav>
    </div>
     
     <article>
      <script type='text/javascript'>
	$(function() {
		var repl = new REPL();
		$("#REPL").submit(function(e) {
			e.preventDefault();
			var $form = $(this), $input = $("#json", $form), $query = $("#query", $form), $target = $("#print", $form);
			repl.exec($input.val(), $query.val(), $target);
			return false;
		});

		$("#twitter-get").click(function(e) {
			e.preventDefault();
			$.ajax("http://api.twitter.com/1/statuses/public_timeline.json", {
				"dataType": "jsonp",
				"success": function(data) {
					$("#json").val(JSON.stringify(data));
				}
			});
		});
	});
</script><form method='GET' action='#' id='REPL'>
	<h1>Try SpahQL</h1>
	<fieldset class='read'>
		<label for='json'>JSON data</label>
		<textarea name='json' class='text' id='json'>Enter some JSON here</textarea>
		<a href='' class='twitter' id='twitter-get'>Populate with Twitter timeline</a>
	</fieldset>
	<fieldset class='execute'>
		<label for='query'>SpahQL query</label>
		<input name='query' class='text' id='query' type='text' />
		<input class='submit' type='submit' value='Run' />
	</fieldset>
	<div class='print' id='print'>
	</div>
</form>
<h1 id='examples'>Examples</h1>

<p>Select from an object by path:</p>

<pre><code>/key/subkey</code></pre>

<p>Select from an array:</p>

<pre><code>/0
/1
/2
...</code></pre>

<p>Select from an array of objects:</p>

<pre><code>/0/text //-&gt; text of first tweet in timeline</code></pre>

<p>Select recursively by path:</p>

<pre><code>//text</code></pre>

<p>Select all keys in an object:</p>

<pre><code>/*</code></pre>

<p>Select all matching a criteria:</p>

<pre><code>//*[/text/.size == 140] //-&gt; all tweets with a text exactly 140 characters in length</code></pre>

<p>Set literals:</p>

<pre><code>{&quot;i&#39;m not a tweet&quot;, /0/text, /1/text} //-&gt; Text from first two tweets and one extra string as a single set</code></pre>

<p>Basic literals:</p>

<pre><code>3
&quot;three&quot;
true
false</code></pre>

<p>Properties:</p>

<pre><code>/.size //-&gt; Number of tweets
/0/text/.size //-&gt; Number of characters in first tweet</code></pre>

<p>Basic equalities:</p>

<pre><code>/0/text == &quot;does the first tweet match this?&quot;</code></pre>

<p>Basic inequalities:</p>

<pre><code>/.size &gt; 10 //-&gt; Timeline longer than 10 tweets?
/0/text/.size &lt;= 100 //-&gt; First tweet 100 characters or less?</code></pre>

<p>Rough equalities:</p>

<pre><code>/0/text =~ &quot;^first tweet matches this regex\?&quot;</code></pre>

<p>Supersets:</p>

<pre><code>//text }&gt;{ &quot;is there a tweet matching this?&quot;</code></pre>

<p>Subsets:</p>

<pre><code>/0/text }&lt;{ {&quot;does&quot;, &quot;the first&quot;, &quot;tweet&quot;, &quot;match&quot;, &quot;any of these?&quot;}</code></pre>

<p>Joint sets:</p>

<pre><code>//text }~{ {&quot;any&quot;, &quot;tweets&quot;, &quot;matching&quot;, &quot;any of these?&quot;}</code></pre>

<p>Disjoint sets:</p>

<pre><code>/0/text }!{ {&quot;shouldn&#39;t&quot;, &quot;match&quot;, &quot;any of these&quot;}</code></pre>
     </article>
    
  </body>
</html>